module.exports=function(t){function e(n){if(o[n])return o[n].exports;var r=o[n]={exports:{},id:n,loaded:!1};return t[n].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var o={};return e.m=t,e.c=o,e.p="",e(0)}([function(t,e,o){"use strict";var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t},r=o(4),i=0,s=o(5),a=o(8),u=o(2),c=o(7),l=a.PropTypes,h=2*Math.PI,p=o(1),f=o(6),d=a.createClass({displayName:"Ink",shouldComponentUpdate:f,propTypes:{background:l.bool,duration:l.number,opacity:l.number,radius:l.number,recenter:l.bool},getDefaultProps:function(){return{background:!0,duration:1e3,opacity:.25,radius:150,recenter:!0}},getInitialState:function(){return{color:"transparent",density:1,height:0,store:c(this.tick),touchEvents:this.touchEvents(),width:0}},touchEvents:function(){return r?{onTouchStart:this._onPress,onTouchEnd:this._onRelease,onTouchCancel:this._onRelease,onTouchLeave:this._onRelease}:{onMouseDown:this._onPress,onMouseUp:this._onRelease,onMouseLeave:this._onRelease}},tick:function(){var t=this.state,e=t.ctx,o=t.color,n=t.density,r=t.height,i=t.width,s=t.store;e.save(),e.scale(n,n),e.clearRect(0,0,i,r),e.fillStyle=o,this.props.background&&(e.globalAlpha=s.getTotalOpacity(this.props.opacity),e.fillRect(0,0,i,r)),s.each(this.makeBlot,this),e.restore()},makeBlot:function(t){var e=this.state,o=e.ctx,n=e.height,r=e.width,i=t.x,s=t.y,a=t.radius;if(o.globalAlpha=p.getBlotOpacity(t,this.props.opacity),o.beginPath(),this.props.recenter){var u=Math.max(n,r);i+=p.getBlotShiftX(t,u,r),s+=p.getBlotShiftY(t,u,n)}o.arc(i,s,a*p.getBlotScale(t),0,h),o.closePath(),o.fill()},componentWillUnmount:function(){this.state.store.stop()},pushBlot:function(t,e,o){var n=this,r=this.getDOMNode(),i=r.getBoundingClientRect(),a=i.top,u=i.bottom,c=i.left,l=i.right,h=window.getComputedStyle(r),f=h.color,d=this.state.ctx||r.getContext("2d"),g=s(d),m=u-a,v=l-c,x=p.getMaxRadius(m,v,this.props.radius);this.setState({color:f,ctx:d,density:g,height:m,width:v},function(){n.state.store.add({duration:n.props.duration,mouseDown:t,mouseUp:0,radius:x,x:e-c,y:o-a})})},render:function(){var t=this.state,e=t.density,o=t.height,r=t.width,i=t.touchEvents;return a.createElement("canvas",n({className:this.props.className||"ink",style:n({},u,this.props.style),height:o*e,width:r*e,onDragOver:this._onRelease},this._filterProps(),i))},_filterProps:function(){var t=this;return Object.keys(this.props).reduce(function(e,o){return"style"!==o&&"className"!==o&&"onDragOver"!==o&&(e[o]=t.props[o]),e},{})},_onPress:function(t){var e=t.button,o=t.ctrlKey,n=t.clientX,r=t.clientY,s=t.changedTouches,a=Date.now();if(s)for(var u=0;u<s.length;u++){var c=s[u],l=c.clientX,h=c.clientY;this.pushBlot(a,l,h)}else e!==i||o||this.pushBlot(a,n,r)},_onRelease:function(){this.state.store.release(Date.now())}});t.exports=d},function(t,e,o){"use strict";function n(t){return l(t.duration,Date.now()-t.mouseDown)}function r(t){return t.mouseUp>0?Date.now()-t.mouseUp:0}function i(t){var e=t.duration,o=t.radius,i=.85*s(n(t),0,o,e),a=.15*s(r(t),0,o,e),l=.02*o*u(Date.now()/e);return c(0,i+a+l)}var s=o(3),a=Math.sqrt(2),u=Math.cos,c=Math.max,l=Math.min;t.exports={getMaxRadius:function(t,e,o){return l(.5*c(t,e),o)},getBlotOpacity:function(t,e){return s(r(t),e,-e,t.duration)},getBlotOuterOpacity:function(t,e){return l(this.getBlotOpacity(t,e),s(n(t),0,.3,3*t.duration))},getBlotShiftX:function(t,e,o){return l(1,i(t)/e*2/a)*(o/2-t.x)},getBlotShiftY:function(t,e,o){return l(1,i(t)/e*2/a)*(o/2-t.y)},getBlotScale:function(t){return i(t)/t.radius}}},function(t,e,o){"use strict";t.exports={borderRadius:"inherit",height:"100%",left:0,position:"absolute",top:0,width:"100%"}},function(t,e,o){"use strict";t.exports=function(t,e,o,n){return o*((t=t/n-1)*t*t*t*t+1)+e}},function(t,e,o){"use strict";var n=!1;"undefined"!=typeof window&&(n="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch),t.exports=n},function(t,e,o){"use strict";t.exports=function(t){var e=window.devicePixelRatio||1,o=t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return e/o}},function(t,e,o){"use strict";function n(t,e){for(var o in t)if(this.props[o]!==t[o])return!0;for(var n in e)if(this.state[n]!==e[n])return!0;return!1}t.exports=n},function(t,e,o){"use strict";var n=o(1),r=function(t){var e=t.mouseUp,o=t.duration;return!e||Date.now()-e<o};t.exports=function(t){var e=[],o=!1,i=void 0,s={each:function(t,o){for(var n=0,r=e.length;r>n;n++)t.call(o,e[n])},play:function(){o||(o=!0,s.update())},stop:function(){o=!1,cancelAnimationFrame(i)},getTotalOpacity:function(t){for(var o=0,r=0,i=e.length;i>r;r++)o+=n.getBlotOuterOpacity(e[r],t);return o},update:function(){e=e.filter(r),e.length?(i=requestAnimationFrame(s.update),t()):s.stop()},add:function(t){e.push(t),s.play()},release:function(t){for(var o=e.length-1;o>=0;o--)if(!e[o].mouseUp)return e[o].mouseUp=t}};return s}},function(t,e,o){t.exports=require("react")}]);